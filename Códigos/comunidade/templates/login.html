{% extends "base.html" %}

{% block body %}
    <div class="container mb-4">
        <h1 class="mt-2" >Fa√ßa Login ou Crie sua Conta para continuar</h1>
        <hr>
        <div class="row">
            <div class="col">
                <form action="" method="post" class="border rounded p-4 mt-2" style="box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.158);">
                    {{ form_login.csrf_token }}

                    <legend>Login</legend>
                    <fieldset>
                        <div class="form-group mt-2">
                            {{ form_login.email.label(class="form-control-label") }}

                            {% if form_login.email.errors %}
                                {{ form_login.email(class="form-control is-invalid") }}

                                <div class="invalid-feedback">
                                    {% for erro in form_login.email.errors %}
                                        {{ erro }}
                                    {% endfor %}

                                </div>

                            {% else %}
                                {{ form_login.email(class="form-control") }}

                            {% endif %}

                        </div>
                        <div class="form-group mt-2">
                            {{ form_login.senha.label(class="form-control-label") }}

                            <div class="password-container">
                                {% if form_login.senha.errors %}
                                    {{ form_login.senha(class="form-control is-invalid", id="login-password") }}

                                    <div class="invalid-feedback">
                                        {% for erro in form_login.senha.errors %}
                                            {{ erro }}
                                        {% endfor %}
                                        
                                    </div>

                                {% else %}
                                    {{ form_login.senha(class="form-control", id="login-password") }}

                                {% endif %}
                                <span class="toggle-password" onclick="togglePassword('login-password')"><i class="bi bi-eye-fill"></i></span>
                            </div>

                        </div>
                        <div class="form-group mt-2">
                            {{ form_login.lembrar_dados.label(class="form-control-label") }}
                            {{ form_login.lembrar_dados(class="form-check-input") }}

                        </div>
                    </fieldset>

                    {{ form_login.botao_submit_login(class="btn btn-secondary mt-2") }}
                </form>
            </div>
            <div class="col">
                <form action="" method="post" class="border rounded p-4 mt-2" style="box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.158);">
                    {{ form_criarconta.csrf_token }}

                    <legend>Criar Conta</legend>
                    <fieldset>
                        <div class="form-group mt-2">
                            {{ form_criarconta.username.label(class="form-control-label") }}

                            {% if form_criarconta.username.errors %}
                                {{ form_criarconta.username(class="form-control is-invalid") }}

                                <div class="invalid-feedback">
                                    {% for erro in form_criarconta.username.errors %}
                                        {{ erro }}
                                    {% endfor %}
                                    
                                </div>

                            {% else %}
                                {{ form_criarconta.username(class="form-control") }}

                            {% endif %}

                        </div>
                        <div class="form-group mt-2">
                            {{ form_criarconta.email.label(class="form-control-label") }}

                            {% if form_criarconta.email.errors %}
                                {{ form_criarconta.email(class="form-control is-invalid") }}

                                <div class="invalid-feedback">
                                    {% for erro in form_criarconta.email.errors %}
                                        {{ erro }}
                                    {% endfor %}
                                    
                                </div>

                            {% else %}
                                {{ form_criarconta.email(class="form-control") }}

                            {% endif %}

                        </div>
                        <div class="form-group mt-2">
                            {{ form_criarconta.senha.label(class="form-control-label") }}

                            <div class="password-container">
                                {% if form_criarconta.senha.errors %}
                                    {{ form_criarconta.senha(class="form-control is-invalid", id="signup-password") }}

                                    <div class="invalid-feedback">
                                        {% for erro in form_criarconta.senha.errors %}
                                            {{ erro }}
                                        {% endfor %}
                                        
                                    </div>

                                {% else %}
                                    {{ form_criarconta.senha(class="form-control", id="signup-password") }}

                                {% endif %}
                                <span class="toggle-password" onclick="togglePassword('signup-password')"><i class="bi bi-eye-fill"></i></span>
                            </div>

                        </div>
                        <div class="form-group mt-2">
                            {{ form_criarconta.confirmacao_senha.label(class="form-control-label") }}
                            
                            <div class="password-container">
                                {% if form_criarconta.confirmacao_senha.errors %}
                                    {{ form_criarconta.confirmacao_senha(class="form-control is-invalid", id="confirm-password") }}

                                    <div class="invalid-feedback">
                                        {% for erro in form_criarconta.confirmacao_senha.errors %}
                                            {{ erro }}
                                        {% endfor %}
                                        
                                    </div>

                                {% else %}
                                    {{ form_criarconta.confirmacao_senha(class="form-control", id="confirm-password") }}

                                {% endif %}
                                <span class="toggle-password" onclick="togglePassword('confirm-password')"><i class="bi bi-eye-fill"></i></span>
                            </div>

                        </div>
                    </fieldset>
    
                    {{ form_criarconta.botao_submit_criarconta(class="btn btn-secondary mt-2") }}
                </form>
            </div>
        </div>
    </div>

    <script>
        function togglePassword(inputId) {
            var passwordField = document.getElementById(inputId);

            passwordField.type = passwordField.type === "password" ? "text" : "password";
        }
    </script>

{% endblock %}